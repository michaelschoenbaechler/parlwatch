<ng-container *transloco="let t;">
  <ion-header>
    <ion-toolbar>
      <ion-title>{{ t('votes.voteList.title') }}</ion-title>
    </ion-toolbar>
    <ion-toolbar>
      <ion-searchbar
        appHideKeyboardOnEnter
        placeholder="{{ t('common.search.placeholder') }}"
        color="light"
        enterkeyhint="search"
        [value]="store.query().searchTerm"
        (ionChange)="onSearch($event)"
      />
    </ion-toolbar>
  </ion-header>

  <ion-content role="feed" class="ion-padding">
    @if (!viewModel().isLoading) { @if (!viewModel().hasError) { @if
    (!viewModel().noContent) {
    <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
      <ion-refresher-content />
    </ion-refresher>
    @for (vote of viewModel().votes; track vote) {
    <app-vote-card [vote]="vote" (click)="onClickVote(vote.ID)" />
    }
    <ion-infinite-scroll
      threshold="100px"
      (ionInfinite)="distanceReached($event)"
    >
      <ion-infinite-scroll-content />
    </ion-infinite-scroll>
    } @else {
    <app-no-content-screen (resetFilter)="resetFilter()" />
    } } @else {
    <app-error-screen (retry)="retrySearch()" />
    } } @else {
    <app-loading-screen />
    }
  </ion-content>
</ng-container>
